@use '../../../../styles/abstracts/functions' as fn;
@use '../../../../styles/abstracts/mixins' as mixins;

.c-landing-aside {
  background-color: fn.token('color', 'background', 'surface');
  border-radius: fn.token('radius', 'lg');
  box-shadow: fn.token('shadow', 'soft');
  padding: fn.token('spacing', 'lg');
  display: flex;
  flex-direction: column;
  gap: fn.token('spacing', 'md');
  height: 100%;
  overflow: hidden;
  inline-size: 100%;
  min-inline-size: 16rem;
  max-inline-size: 20rem;
  transition:
    inline-size fn.token('transitions', 'standard') ease,
    min-inline-size fn.token('transitions', 'standard') ease,
    padding fn.token('transitions', 'standard') ease,
    opacity fn.token('transitions', 'quick') ease;
  position: relative;

  &--collapsed {
    inline-size: fit-content;
    min-inline-size: fit-content;
    padding-inline: fn.token('spacing', 'xs');
  }

  &__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: fn.token('spacing', 'sm');
    min-block-size: 2rem;
  }

  &--collapsed &__header {
    justify-content: center;
  }

  &__title {
    @include mixins.text-style('lg', 'bold', 'tight');
    color: fn.token('color', 'text', 'primary');
    margin: 0;
    white-space: nowrap;
    opacity: 1;
    transition: opacity fn.token('transitions', 'quick') ease;
  }

  &--collapsed &__title {
    opacity: 0;
    visibility: hidden;
  }

  &__toggle {
    flex-shrink: 0;
  }

  &__toggle-icon {
    @include mixins.text-style('xl', 'bold');
    line-height: 1;
    user-select: none;
  }

  &__list {
    display: flex;
    flex-direction: column;
    gap: fn.token('spacing', 'sm');
    overflow-y: auto;
    overflow-x: hidden;
    opacity: 1;
    transition: opacity fn.token('transitions', 'quick') ease;
  }

  &--collapsed &__list {
    opacity: 1;
    visibility: visible;
  }

  &__item {
    display: flex;
    flex-direction: column;
    gap: fn.token('spacing', 'xxs');
  }

  &__section-button {
    display: flex;
    align-items: center;
    gap: fn.token('spacing', 'xs');
    transition: all fn.token('transitions', 'quick') ease;

    &--collapsed {
      justify-content: center;
      padding: 0;
      inline-size: 2.5rem;
      block-size: 2.5rem;
    }
  }

  &__section-icon {
    font-size: fn.token('typography', 'sizes', 'xl');
    line-height: 1;
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  &__label {
    @include mixins.text-style('md', 'medium');
    white-space: nowrap;
    opacity: 1;
    transition: opacity fn.token('transitions', 'quick') ease;
  }

  &--collapsed &__label {
    opacity: 0;
    visibility: hidden;
    position: absolute;
  }

  &__hint {
    @include mixins.text-style('sm');
    color: fn.token('color', 'text', 'muted');
    margin: 0;
    white-space: nowrap;
  }

  @media (max-width: 1024px) {
    &--collapsed {
      inline-size: 0;
      min-inline-size: 0;
      padding-inline: 0;
      opacity: 0;
      visibility: hidden;
    }

    &__toggle {
      display: none;
    }
  }

  @media (prefers-reduced-motion: reduce) {
    transition: none;

    &__title,
    &__list,
    &__label,
    &__section-button {
      transition: none;
    }
  }
}
